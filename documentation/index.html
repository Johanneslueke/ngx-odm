<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ngx-odm</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
	      <link rel="stylesheet" href="./styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="./" class="navbar-brand">ngx-odm</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content getting-started">
                   <div class="content-data">

<h1 id="ngx-odmrxdb">@ngx-odm/rxdb</h1>
<blockquote>
<p>Angular 10+ wrapper for <strong>RxDB</strong> - A realtime Database for the Web</p>
</blockquote>
<h2 id="demo">Demo</h2>
<p><a href="https://voznik.github.io/ngx-odm/">demo</a></p>
<h2 id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#ngx-odmrxdb">@ngx-odm/rxdb</a><ul>
<li><a href="#demo">Demo</a></li>
<li><a href="#table-of-contents">Table of contents</a></li>
<li><a href="#general-info">General info</a></li>
<li><a href="#screenshots">Screenshots</a></li>
<li><a href="#technologies">Technologies</a></li>
<li><a href="#install">Install</a></li>
<li><a href="#usage">Usage</a><ul>
<li><a href="#in-your-appmodule">In your <code>AppModule</code></a></li>
<li><a href="#in-your-featuremodule">In your <code>FeatureModule</code></a></li>
<li><a href="#in-your-featureservice">In your <code>FeatureService</code></a></li>
<li><a href="#aot">AOT</a></li>
</ul>
</li>
<li><a href="#features">Features</a></li>
<li><a href="#status">Status</a></li>
<li><a href="#inspiration">Inspiration</a></li>
<li><a href="#contact">Contact</a></li>
</ul>
</li>
</ul>
<h2 id="general-info">General info</h2>
<p>If you don&#39;t want to setup RxDB manually in your next Angular project - just import <code>NgxRxdbModule</code></p>
<h2 id="screenshots">Screenshots</h2>
<p><img src="./apps/demo/src/assets/images/screenshot.png" alt="Example screenshot" class="img-responsive"></p>
<h2 id="technologies">Technologies</h2>
<table class="table table-bordered compodoc-table">
<thead>
<tr>
<th>RxDB</th>
<th>Angular 10+</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://rxdb.info/"><img src="https://cdn.rawgit.com/pubkey/rxdb/ba7c9b80/docs/files/logo/logo_text.svg" alt="RxDB" class="img-responsive"></a></td>
<td><a href="https://angular.io/"><img src="https://angular.io/assets/images/logos/angular/angular.svg" alt="Angular" class="img-responsive"></a></td>
</tr>
</tbody>
</table>
<h2 id="install">Install</h2>
<p>Describe how to install / setup your local environement / add link to demo version.</p>
<h2 id="usage">Usage</h2>
<h3 id="in-your-appmodule">In your <code>AppModule</code></h3>
<div><pre class="line-numbers"><code class="language-typescript">&#64;NgModule({
  imports: [
    // ... other imports
    // ...
    NgxRxdbModule.forRoot({
      // optional, NgxRxdbConfig extends RxDatabaseCreator, will be merged with default config
      name: &#39;ngx&#39;,                        // &lt;- name (required, &#39;ngx&#39;)
      adapter: &#39;idb&#39;,                     // &lt;- storage-adapter (required, default: &#39;idb&#39;)
      password: &#39;123456789&#39;,              // &lt;- password (optional)
      multiInstance: true,                // &lt;- multiInstance (optional, default: true)
      queryChangeDetection: false,        // &lt;- queryChangeDetection (optional, default: false)
      options: {                          // NgxRxdb options (optional)
        schemas: [ ...CollectionConfigs], // array of NgxRxdbCollectionConfig (optional)
        dumpPath: &#39;assets/dump.json&#39;      // path to datbase dump file (optional)
      }
    }),
  ],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule { }</code></pre></div><h3 id="in-your-featuremodule">In your <code>FeatureModule</code></h3>
<blockquote>
<p>Schemas define how your data looks. Which field should be used as primary, which fields should be used as indexes and what should be encrypted. The schema also validates that every inserted document of your collections conforms to the schema. Every collection has its own schema. With RxDB, schemas are defined with the jsonschema-standard which you might know from other projects.
<a href="https://rxdb.info/rx-schema.html">https://rxdb.info/rx-schema.html</a></p>
</blockquote>
<div><pre class="line-numbers"><code class="language-typescript">// create or import your schema
const todoSchema: RxSchema = require(&#39;../../../assets/data/todo.schema.json&#39;);
// create config
// NgxRxdbCollectionConfig extends RxCollectionCreator
const todoCollectionConfig: NgxRxdbCollectionConfig = {
  name: &#39;todo&#39;,                           // &lt;- name (required)
  schema: todoSchema,                     // &lt;- name (required)
  statics: {},                            // &lt;- collection methods (optional)
  methods: {},                            // &lt;- instance-methods methods (optional)
  options: {
    initialDocs: [] // docs to be imported into empty collection (optional)
  }
};

&#64;NgModule({
  imports: [
    // ... other imports
    NgxRxdbModule.forFeature(todoCollectionConfig),
  ],
  // declarations
  // providers
})
export class TodosModule {}</code></pre></div><h3 id="in-your-featureservice">In your <code>FeatureService</code></h3>
<div><pre class="line-numbers"><code class="language-typescript">&#64;Injectable()
export class TodosService {
  // ...
  filter$ = new BehaviorSubject&lt;TodosFilter&gt;(&#39;ALL&#39;);
  constructor(private collectionService: NgxRxdbCollectionService&lt;Todo&gt;) {}
  // get documents from collection as observable using `RxQuery` mango-queries
  selectTodos(): Observable&lt;Todo[]&gt; {
    return this.filter$.pipe(
      switchMap(filterValue =&gt; {
        const queryObj = {
          selector: {
            createdAt: {
              $gt: null,
            },
            completed: filterValue === &#39;COMPLETED&#39;,
          },
          sort: [{ createdAt: &#39;desc&#39; } as any],
        };
        return this.collectionService.docs(queryObj);
      })
    );
  }

  // add new document
  add(name: string): void {
    const payload: Todo = { guid: uuid(), name, done: false, dateCreated: Date.now() };
    this.collectionService.insert(payload).subscribe(doc =&gt; console.log(doc));
  }

  // update prop od existing document
  toggle(guid: string, done: boolean): void {
    this.collectionService.update(guid, { done }).subscribe(doc =&gt; console.log(doc));
  }

  // use `pouchdb.bulkDocs` to delete all dcouments by qeury
  removeDoneTodos(): void {
    const rulesObject = { done: { $eq: true } };
    this.collectionService.removeBulkBy(rulesObject).subscribe(res =&gt; this.changeFilter(&#39;ALL&#39;));
  }
  // ...
}</code></pre></div><h3 id="aot">AOT</h3>
<p>ATM, set <strong>&quot;buildOptimizer&quot;: false</strong> in your <code>angular.json</code> <em>production</em> configuration</p>
<h2 id="features">Features</h2>
<p>By using this module you can</p>
<ul>
<li>Automatically initialize db with settings, optionally provide db dumb to pre-fill with collections &amp; documents</li>
<li>Automatically initialize RxCollection for each <em>lazy-loaded Feature module</em> with config</li>
<li>Work straight with <code>db.collection</code> or via <em>NgxRxdbCollectionService</em> wrapper with some helper methods</li>
</ul>
<p>To-do list:</p>
<ul>
<li>Enable sync</li>
<li>...</li>
</ul>
<h2 id="status">Status</h2>
<p>Project is: <em>in progress</em></p>
<h2 id="inspiration">Inspiration</h2>
<p>Project inspired by</p>
<ul>
<li><a href="https://github.com/pubkey/rxdb/blob/master/examples/angular2/README.md#rxdb-angular2-example">rxdb-angular2-example</a></li>
<li><a href="https://tomastrajan.github.io/angular-ngrx-material-starter#/examples/todos">Angular NgRx Material Starter</a></li>
<li><em>The Angular Library Series</em> from <a href="https://blog.angularindepth.com/">Angular In Depth</a></li>
</ul>
<h2 id="contact">Contact</h2>
<p>Created by <a href="https://github.com/voznik">@voznik</a> - feel free to contact me!</p>














                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 0;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'getting-started';
            var COMPODOC_CURRENT_PAGE_URL = 'index.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="./js/libs/custom-elements.min.js"></script>
       <script src="./js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="./js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="./js/menu-wc.js" defer></script>

       <script src="./js/libs/bootstrap-native.js"></script>

       <script src="./js/libs/es6-shim.min.js"></script>
       <script src="./js/libs/EventDispatcher.js"></script>
       <script src="./js/libs/promise.min.js"></script>
       <script src="./js/libs/zepto.min.js"></script>

       <script src="./js/compodoc.js"></script>

       <script src="./js/tabs.js"></script>
       <script src="./js/menu.js"></script>
       <script src="./js/libs/clipboard.min.js"></script>
       <script src="./js/libs/prism.js"></script>
       <script src="./js/sourceCode.js"></script>
          <script src="./js/search/search.js"></script>
          <script src="./js/search/lunr.min.js"></script>
          <script src="./js/search/search-lunr.js"></script>
          <script src="./js/search/search_index.js"></script>
       <script src="./js/lazy-load-graphs.js"></script>


    </body>
</html>
