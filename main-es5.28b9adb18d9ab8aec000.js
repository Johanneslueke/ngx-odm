!function(){function e(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?t(e):n}function t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n(e){var t="function"==typeof Map?new Map:void 0;return(n=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return r(e,arguments,c(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i(o,e)})(e)}function r(e,t,n){return(r=o()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&i(o,n.prototype),o}).apply(null,arguments)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+diW":function(e,t,n){"use strict";n.d(t,"a",function(){return R});var r,o,i=n("mrSG"),c=n("S6qK"),u=n("90xe"),l=n("Re7d"),d=n("A8VM"),p=n("g0lL"),h=n("UDat"),b=n("wnDG"),v=n("m1nw"),m=n("Jcva"),g=n("uugc"),y=n("Lj5c"),O={name:"ngx",adapter:"idb",multiInstance:!1,ignoreDuplicate:!0,pouchSettings:{skip_setup:!0,ajax:{withCredentials:!1,cache:!1,timeout:1e4,headers:{}}}},j=function(e){return 0===e?2e3:3*e},x=n("eBm/"),w=n("fXoL");Object(c.a)(n("ezGW")),Object(c.a)(n("Wh65")),Object(c.a)(g.a),Object(c.a)(v.a),Object(c.a)(h.a),Object(c.a)(d.a),Object(c.a)(b.a),Object(c.a)(m.a),(null===(o=null===(r=window.process)||void 0===r?void 0:r.env)||void 0===o?void 0:o.TEST)&&Object(x.c)("dev or test mode");var k,R=((k=function(){function e(){s(this,e),this._imported=window.localStorage._ngx_rxdb_imported}return f(e,[{key:"destroyDb",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.dbInstance.remove();case 3:return e.next=5,this.dbInstance.destroy();case 5:this.dbInstance=null,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,this,[[0,8]])}))}},{key:"initDb",value:function(t){var n;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,i,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=e.mergeConfig(t),r.next=4,Object(u.b)(o);case 4:if(i=r.sent,this.dbInstance=i,Object(x.c)("created database"),r.t0=Object(x.b)(t.options)||Object(x.b)(t.options.schemas),r.t0){r.next=11;break}return r.next=11,this.initCollections(t.options.schemas);case 11:if(Object(x.b)(t.options)||!t.options.dumpPath){r.next=21;break}return r.next=14,fetch(t.options.dumpPath);case 14:return r.next=16,r.sent.json();case 16:if(c=r.sent,r.t1=this._imported&&this._imported===c.timestamp.toString(),r.t1){r.next=21;break}return r.next=21,this.importDbDump(c);case 21:r.next=26;break;case 23:throw r.prev=23,r.t2=r.catch(0),new x.a(null!==(n=r.t2.message)&&void 0!==n?n:r.t2);case 26:case"end":return r.stop()}},r,this,[[0,23]])}))}},{key:"initCollections",value:function(e){var t;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.prepareCollections(e);case 3:return r=n.sent,n.next=6,this.dbInstance.addCollections(r);case 6:o=n.sent,Object(x.c)("created ".concat(Object.keys(o).length," collections bulk, "),Object.keys(o)),n.next=13;break;case 10:throw n.prev=10,n.t0=n.catch(0),new x.a(null!==(t=n.t0.message)&&void 0!==t?t:n.t0);case 13:case"end":return n.stop()}},n,this,[[0,10]])}))}},{key:"initCollection",value:function(e){var t;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,i,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=this.db[e.name],!Object(l.c)(r)){n.next=10;break}if(!e.options.recreate){n.next=8;break}return n.next=5,r.remove();case 5:n.t0=n.sent,n.next=9;break;case 8:n.t0=(Object(x.c)("collection",r.name,"exists, skip create"),r);case 9:return n.abrupt("return",n.t0);case 10:return n.next=12,this.prepareCollections((u={},s=e.name,f=e,s in u?Object.defineProperty(u,s,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[s]=f,u));case 12:return o=n.sent,n.next=15,this.dbInstance.addCollections(o);case 15:return n.t1=e.name,r=n.sent[n.t1],Object(x.c)('created collection "'.concat(r.name,'"')),n.next=20,r.countAllDocuments();case 20:if(i=n.sent,Object(x.c)('collection "'.concat(r.name,'" has "').concat(parseInt(i,0),'" docs')),!(null===(t=e.options)||void 0===t?void 0:t.initialDocs)||i){n.next=26;break}return c={name:name,schemaHash:r.schema.hash,encrypted:!1,docs:a(e.options.initialDocs)},n.next=25,r.importDump(c);case 25:Object(x.c)("imported ".concat(e.options.initialDocs.length,' docs for collection "').concat(name,'"'));case 26:return n.abrupt("return",r);case 27:case"end":return n.stop()}var u,s,f},n,this)}))}},{key:"getCollection",value:function(e){var t=this.db[e];return Object(l.c)(t)?t:(Object(x.c)("returned false for RxDB.isRxCollection(".concat(e,")")),null)}},{key:"syncCollection",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"db",o=arguments.length>2?arguments[2]:void 0;if(null===(n=null===(t=e.options)||void 0===t?void 0:t.syncOptions)||void 0===n?void 0:n.remote){var i=e.options.syncOptions;return i.remote=i.remote.concat("/",r),i.options=Object.assign({back_off_function:j},this.db.pouchSettings.ajax,e.pouchSettings.ajax,i.options),o&&(i.options.headers=Object.assign({},i.options.headers,o)),i.queryObj&&(i.query=e.find(i.queryObj)),e.sync(i)}}},{key:"syncAllCollections",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"db",n=arguments.length>1?arguments[1]:void 0;if(Object(x.b)(this.collections))throw new x.a("collections must be initialized before importing dump");var r=[];return Object.values(this.collections).filter(function(e){return"remote"in e.options.syncOptions}).forEach(function(o){var i=e.syncCollection(o,t,n);r.push(i)}),Object(x.c)("syncAllCollections = ",r),r}},{key:"importDbDump",value:function(e){var t;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=this.prepareDump(e),n.next=4,this.db.importDump(r);case 4:this._imported=r.timestamp,n.next=12;break;case 7:if(n.prev=7,n.t0=n.catch(0),409===n.t0.status){n.next=11;break}throw new x.a(null!==(t=n.t0.message)&&void 0!==t?t:n.t0);case 11:this._imported=e.timestamp;case 12:case"end":return n.stop()}},n,this,[[0,7]])}))}},{key:"prepareCollections",value:function(e){var t;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,i,c,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,r={},o=Object.values(e),i=0,c=o;case 3:if(!(i<c.length)){n.next=15;break}if(a=c[i],n.t0=!a.schema&&a.options.schemaUrl,!n.t0){n.next=10;break}return n.next=9,y.a.fetchSchema(a.options.schemaUrl);case 9:a.schema=n.sent;case 10:Object(p.a)(a.schema),r[a.name]=new y.a(a);case 12:i++,n.next=3;break;case 15:return n.abrupt("return",r);case 18:throw n.prev=18,n.t1=n.catch(0),new x.a(null!==(t=n.t1.message)&&void 0!==t?t:n.t1);case 21:case"end":return n.stop()}},n,null,[[0,18]])}))}},{key:"prepareDump",value:function(e){var t=Object.assign({},e);if(Object(x.b)(this.collections))throw new x.a("collections must be initialized before importing dump");for(var n in this.collections)t.collections.hasOwnProperty(n)&&(t.collections[n].schemaHash=this.collections[n].schema._hash);return t}},{key:"db",get:function(){return this.dbInstance}},{key:"collections",get:function(){return this.db.collections}},{key:"_imported",get:function(){return window.localStorage._ngx_rxdb_imported},set:function(e){window.localStorage._ngx_rxdb_imported=e}}],[{key:"mergeConfig",value:function(e){return Object.assign({},O,e)}},{key:"getCouchAuthProxyHeaders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{"X-Auth-CouchDB-UserName":e,"X-Auth-CouchDB-Roles":t.join(","),"X-Auth-CouchDB-Token":n}}}]),e}()).\u0275fac=function(e){return new(e||k)},k.\u0275prov=w.Cb({token:k,factory:k.\u0275fac}),k)},"0awm":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n("fXoL"),o=new r.q("NgxRxdbConfig"),i=new r.q("NgxRxdbCollectionConfig")},1:function(e,t,n){e.exports=n("Hasg")},2:function(e,t){},3:function(e,t){},4:function(e,t){},Hasg:function(e,t,n){"use strict";n.r(t);var r=n("fXoL");process,process,Boolean(process.env.COUCHDB_SYNC_LIVE),Boolean(process.env.COUCHDB_SYNC_HEARTBEAT);var o,i=n("jhN1"),c=n("tyNb"),a=n("ORsI"),u=((o=function e(){s(this,e)}).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=r.Ab({type:o,selectors:[["demo-root"]],decls:2,vars:0,template:function(e,t){1&e&&(r.Lb(0,"main"),r.Hb(1,"router-outlet"),r.Kb())},directives:[c.b],styles:["[_nghost-%COMP%] {\n        display: block;\n        font: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;\n        line-height: 1.4em;\n        background: #f5f5f5;\n        color: #4d4d4d;\n        min-width: 230px;\n        max-width: 550px;\n        margin: 0 auto;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        font-weight: 300;\n      }\n\n      .flex[_ngcontent-%COMP%] {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }"]}),o);n("eiuk");var l,f={name:"demo",adapter:"idb",ignoreDuplicate:!0,multiInstance:!0,options:{}},d=[{path:"todos",loadChildren:function(){return n.e(6).then(n.bind(null,"9FVm")).then(function(e){return e.TodosModule})}},{path:"",redirectTo:"todos",pathMatch:"full"}],p=((l=function e(){s(this,e)}).\u0275mod=r.Eb({type:l,bootstrap:[u]}),l.\u0275inj=r.Db({factory:function(e){return new(e||l)},providers:[],imports:[[i.a,c.a.forRoot(d),a.b.forRoot(f)]]}),l);Object(r.R)(),i.b().bootstrapModule(p).catch(function(e){return console.error(e)})},Lj5c:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),o={idLength:function(){return this.primary.length}},i={countAllDocuments:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pouch.info();case 2:return e.abrupt("return",e.sent.doc_count);case 3:case"end":return e.stop()}},e,this)}))}},c=function(){function e(t,n){s(this,e),Object.assign(this,Object.assign(Object.assign({},t),{pouchSettings:Object.assign(Object.assign({},n),t.pouchSettings),methods:Object.assign(Object.assign({},o),t.methods),statics:Object.assign(Object.assign({},i),t.statics)}))}return f(e,null,[{key:"fetchSchema",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return t.next=4,t.sent.json();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t)}))}}]),e}()},"LvJ/":function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="LvJ/"},ORsI:function(e,t,n){"use strict";n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return o.a}),n("0awm"),n("+diW");var r=n("pyNe"),o=(n("Lj5c"),n("eiuk"))},"eBm/":function(r,a,u){"use strict";function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null==e||!e||!Object.keys(e).length||!!t&&Object.values(e).every(function(e){return null===e||!e})}function f(){}function d(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console.log).call.apply(e,[console,"%c[DEBUG:: NgxRxdb::]","background: #8d2089; color: #fff; padding: 2px; font-size: normal;"].concat(n))}u.d(a,"b",function(){return l}),u.d(a,"d",function(){return f}),u.d(a,"c",function(){return d}),u.d(a,"a",function(){return p});var p=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(l,n);var r,a,u=(r=l,a=o(),function(){var t,n=c(r);if(a){var o=c(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return e(this,t)});function l(e,n){var r;return s(this,l),(r=u.call(this,e)).extra=n,r.name=r.constructor.name,Object.setPrototypeOf(t(r),l.prototype),r}return l}(n(Error))},eiuk:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("mrSG"),o=n("fXoL"),i=n("Cfvw"),c=n("pyNe"),a=n("+diW"),u=n("0awm"),l=n("eBm/");function d(e,t){var n=this;return function(){return Object(r.a)(n,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.initDb(t);case 2:case"end":return n.stop()}},n)}))}}var p=function(){var e=function(){function e(t,n,r,o,c){if(s(this,e),!r&&!n)throw new Error(u.a.toString()+" is not provided. Make sure you call the 'forRoot' method of the NgxRxdbModule in the AppModule only.");if(r&&n)throw new Error(u.a.toString()+" is already provided. Make sure you call the 'forRoot' method of the NgxRxdbModule in the AppModule only.");r&&!n&&Object(i.a)(t.donePromise).subscribe(function(){Object(l.c)("appInitStatus.donePromise")})}return f(e,null,[{key:"forFeature",value:function(e){return{ngModule:h,providers:[{provide:u.b,useValue:e},c.a]}}},{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:u.a,useValue:t},a.a,{provide:o.d,useFactory:d,deps:[a.a,u.a],multi:!0}]}}}]),e}();return e.\u0275mod=o.Eb({type:e}),e.\u0275inj=o.Db({factory:function(t){return new(t||e)(o.Pb(o.e),o.Pb(u.a,12),o.Pb(u.a,10),o.Pb(u.b,12),o.Pb(a.a,2))}}),e}(),h=function(){var e=function e(t){s(this,e),this.collectionService=t,this.collectionService.collectionLoaded$().subscribe(l.d)};return e.\u0275mod=o.Eb({type:e}),e.\u0275inj=o.Db({factory:function(t){return new(t||e)(o.Pb(c.a))}}),e}()},pyNe:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n("mrSG"),o=n("Re7d"),i=n("jtHE"),c=n("NXyV"),a=n("Cfvw"),u=n("eIep"),l=n("lJxs"),d=n("+diW"),p=n("0awm"),h=n("fXoL"),b=function(){var e=function(){function e(t,n){s(this,e),this.dbService=t,this.config=n}return f(e,[{key:"ngOnDestroy",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Object(o.c)(this.collection),!e.t0){e.next=4;break}return e.next=4,this.collection.destroy();case 4:case"end":return e.stop()}},e,this)}))}},{key:"collectionLoaded$",value:function(){var e=this;return this.inited$||(this.inited$=new i.a,this.dbService.initCollection(this.config).then(function(t){e._collection=t,e.inited$.next(!0),e.inited$.complete()})),this.inited$.asObservable()}},{key:"sync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"db",t=arguments.length>1?arguments[1]:void 0;return this.dbService.syncCollection(this.collection,e,t)}},{key:"docs",value:function(e){var t=this;return this.collectionLoaded$().pipe(Object(u.a)(function(){return t.collection.find(e).$}))}},{key:"allDocs",value:function(){var e=this;return Object(c.a)(function(){return Object(r.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.collection.pouch.allDocs({include_docs:!0,attachments:!1,endkey:"_design",inclusive_end:!1});case 3:return e.abrupt("return",e.sent.rows.map(function(e){var t=e.doc,n=e.id;return Object.assign(Object.assign({},t),{id:n})}));case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",[]);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))})}},{key:"insertLocal",value:function(e,t){return Object(a.a)(this.collection.upsertLocal(e,t))}},{key:"getLocal",value:function(e){var t=this;return this.collectionLoaded$().pipe(Object(u.a)(function(){return Object(a.a)(t.collection.getLocal(e))}))}},{key:"updateLocal",value:function(e,t,n){var o=this;return Object(c.a)(function(){return Object(r.a)(o,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.collection.getLocal(e);case 2:return(o=r.sent).set(t,n),r.next=6,o.save();case 6:case"end":return r.stop()}},r,this)}))})}},{key:"removeLocal",value:function(e){var t=this;return Object(c.a)(function(){return Object(r.a)(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.getLocal(e);case 2:return t.abrupt("return",t.sent.remove());case 3:case"end":return t.stop()}},t,this)}))})}},{key:"get",value:function(e){var t=this;return this.collectionLoaded$().pipe(Object(u.a)(function(){return Object(a.a)(t.collection.findOne(e).exec())}))}},{key:"getById",value:function(e){var t=this;return this.collectionLoaded$().pipe(Object(u.a)(function(){return t.collection.findByIds$([e]).pipe(Object(l.a)(function(t){return t.size?t.get(e):null}))}))}},{key:"insert",value:function(e){return Object(a.a)(this.collection.insert(e))}},{key:"bulkInsert",value:function(e){return Object(a.a)(this.collection.bulkInsert(e))}},{key:"upsert",value:function(e){return Object(a.a)(this.collection.upsert(e))}},{key:"update",value:function(e,t){var n=this;return Object(c.a)(function(){return Object(r.a)(n,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.collection.findOne(e).exec();case 2:return n.abrupt("return",n.sent.update({$set:Object.assign({},t)}));case 3:case"end":return n.stop()}},n,this)}))})}},{key:"set",value:function(e,t,n){var o=this;return Object(c.a)(function(){return Object(r.a)(o,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.collection.findOne(e).exec();case 2:return o=r.sent,r.abrupt("return",(o.set(t,n),o.save()));case 4:case"end":return r.stop()}},r,this)}))})}},{key:"remove",value:function(e){var t=this;return Object(c.a)(function(){return Object(r.a)(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.collection.findOne(e).exec();case 2:return t.abrupt("return",t.sent.remove());case 3:case"end":return t.stop()}},t,this)}))})}},{key:"removeBulkBy",value:function(e){var t=this;return this.collectionLoaded$().pipe(Object(u.a)(function(){return Object(a.a)(t.collection.find(e).remove())}))}},{key:"_removeBulkBy",value:function(e){var t=this;return Object(c.a)(function(){return Object(r.a)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.collection.find(e).exec();case 3:if(!(n=t.sent)||!n.length){t.next=7;break}return r=n.map(function(e){return{_id:e.primary,_rev:e._rev,_deleted:!0}}),t.abrupt("return",this.collection.pouch.bulkDocs(r));case 7:t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",null);case 12:case"end":return t.stop()}},t,this,[[0,9]])}))})}},{key:"collection",get:function(){return this._collection}},{key:"db",get:function(){return this.dbService.db}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.Pb(d.a),h.Pb(p.b))},e.\u0275prov=h.Cb({token:e,factory:e.\u0275fac}),e}()}},[[1,0,5]]])}();